name: "CodeQL Advanced Analysis for Java/Kotlin"

on:
  pull_request:
  push:
    branches: [ "main" ]
  schedule:
    - cron: '0 4 * * 2'

jobs:
  build:
    uses: statens-pensjonskasse/github-actions-library/.github/workflows/codeql-java-kotlin.yaml@4c663ecc4a471dc6a2b382c0e49f59171c3ec632 # v1.35.3
    permissions:
      security-events: write
      packages: read
      actions: read
      contents: read
    secrets: inherit
    with:
      java-version: '21'
      runner-tag: 'ubuntu-latest'
      build-goals: 'clean install -DskipTests'
